<section class="create-section" layout="column" layout-align="center center" ng-controller="CreateCtrl as create" flex> <div class="back-link-row"> <!-- Back out to the Dashboard --> <a ui-sref="dashboard" class="link"> <md-button aria-label="Back" class="md-icon-button back__button backward_anim launch"> <md-icon class="material-icons step" ng-class="md-18"> keyboard_return </md-icon> </md-button> </a> </div> <section class="form-container form-container--md event-container"> <md-content> <div> <form name="createForm" class="form create-form" ng-submit="create.createEvent()"> <!-- Set the EVENT NAME --> <div layout="row" class="form__row name__row"> <md-input-container flex> <label class="form__text form__label">name the event</label> <input type="text" name="eventName" ng-model="create.name" required class="form__event-name create-name-input" autocomplete="off" minlength="5" maxlength="35" autofocus ng-autofocus> <aside ng-messages="createForm.eventName.$error" md-auto-hide="false"> <div class="form__feedback--error" ng-message="minlength">Must be at least 5 characters</div> <div class="form__feedback--error" ng-message="validRef">Must be shorter than 20 characters</div> <div class="form__feedback--error" ng-message="required" ng-show="createForm.eventName.$touched && createForm.eventName.$invalid">An event name is needed.</div> </aside> <div class="hint" ng-hide="createForm.eventName.$invalid">Call it something memorable!</div> </md-input-container> </div> <div layout="column" layout-gt-xs="row" layout-align="space-between center" class="form__row dates__row"> <!-- Set the EVENT START TIME --> <div layout="column" class="date__row times__row"> <md-content> <label class="form__text form__label"> when is it </label> <md-datepicker type="date" name="startDate" ng-model="create.startDate" required md-min-date="create.currentDate" md-placeholder="Enter date" md-open-on-focus></md-datepicker> <div class="hint">Select a date from the calendar.</div> <aside ng-messages="createForm.startDate.$error" md-auto-hide="false"> <div class="form__feedback--error" ng-message="valid">Please pick a valid date</div> <div class="form__feedback--error" ng-message="mindate">Please avoid a past date.</div> <div class="form__feedback--error" ng-show="create.startDate > create.endDate">The event must begin before it ends.</div> <div class="form__feedback--error" ng-message="required &&createForm.startDate.$touched && createForm.startDate.$invalid">A date is needed.</div> </aside> </md-content> <md-input-container> <label class="form__text form__label">starts at</label> <input type="text" name="startTime" ng-model="create.startTime" ui-timepicker earlier-than="create.endTime" earlier-than-date="create.endDate" later-than="create.currentTime" later-than-date="create.currentDate" related-date="create.startDate" required class="form__event-start"> <aside ng-messages="createForm.startTime.$error" md-auto-hide="false"> <div class="form__feedback--error" ng-message="createForm.startTime.$invalid">Please pick a valid start time.</div> <div class="form__feedback--error" ng-message="laterThan">Please pick a later start time.</div> <div class="form__feedback--error" ng-message="earlierThan">The event must start before it ends.</div> <div class="form__feedback--error" ng-message="required">A start time is needed.</div> </aside> </md-input-container> </div> <!-- Set the EVENT END TIME --> <div layout="column" class="date__row times__row"> <md-content> <label class="form__text form__label"> until </label> <md-datepicker type="date" name="endDate" ng-model="create.endDate" md-min-date="create.startDate" md-placeholder="Enter date" md-open-on-focus required></md-datepicker> <div class="hint">Or type in a date: MM/DD/YYYY</div> <aside ng-messages="createForm.endDate.$error" md-auto-hide="false"> <div class="form__feedback--error" ng-message="valid">Please pick a valid date</div> <div class="form__feedback--error" ng-message="mindate">The event must end after it begins.</div> <div class="form__feedback--error" ng-message="required" ng-show="createForm.endName.$touched && createForm.endDate.$invalid">A date is needed.</div> </aside> </md-content> <md-input-container> <label class="form__text form__label">ends at</label> <input type="text" name="endTime" ng-model="create.endTime" ui-timepicker later-than="create.startTime" later-than-date="create.startDate" related-date="create.endDate" required class="form__event-end"> <aside ng-messages="createForm.endTime.$error" md-auto-hide="false"> <div class="form__feedback--error" ng-message="createForm.endTime.$invalid">Please pick a valid end time</div> <div class="form__feedback--error" ng-message="laterThan">The event must end after it begins.</div> <div class="form__feedback--error" ng-message="required">An end time is needed.</div> </aside> </md-input-container> </div> </div> <!-- Set the EVENT TYPE --> <div layout="row" class="form__row"> <md-input-container flex> <label class="form__text form__label">what kind of event</label> <input type="text" name="eventType" ng-model="create.type" list="eventTypes" required autocomplete="off" class="form__event-type"> <datalist id="eventTypes"> <option ng-repeat="type in create.defaultTypes" value="{{ type }}"></option> </datalist> <aside ng-messages="createForm.eventType.$error" md-auto-hide="false"> <div class="form__feedback--error" ng-message="required" ng-show="createForm.eventType.$touched && createForm.eventType.$invalid">An event type is needed.</div> </aside> <div class="hint" ng-hide="createForm.eventType.$invalid">You can choose from the dropdown options</div> </md-input-container> </div> <!-- Set the EVENT LOCATION --> <div layout="row" class="form__row"> <md-input-container flex> <label class="form__text form__label">where do we go</label> <input type="text" name="eventLocation" ng-model="create.location" required autocomplete="off" class="form__event-location"> <aside ng-messages="createForm.eventLocation.$error" md-auto-hide="false"> <div class="form__feedback--error" ng-message="required" ng-show="createForm.eventLocation.$touched && createForm.eventLocation.$invalid">A location is needed.</div> </aside> </md-input-container> <!-- TODO: Add dynamic location setting with Maps API --> </div> <!-- Set the EVENT GUEST LIST --> <div class="form__row"> <label class="form__text form__label">who is coming</label> <tags-input type="search" name="eventGuests" ng-model="create.guestList" add-on-paste="true" placeholder="Add a guest" replace-spaces-with-dashes="false" allow-leftover-text="false"> <auto-complete select-first-match="false" min-length="3" source="create.loadContacts()"></auto-complete> </tags-input> <div class="hint">Guests don't have to be users.</div> <div class="hint">To get suggestions, type in contacts' usernames.</div> <aside ng-messages="createForm.eventGuests.$error" md-auto-hide="false"> <div class="form__feedback--error" ng-message="allowLeftoverText">Please remove any extra text.</div> </aside> </div> <!-- Set the EVENT MESSAGE --> <div layout="row" class="form__row message__row"> <md-input-container flex> <label class="form__text form__label">include a message</label> <textarea type="text" class="md-block form__text form__message" name="message" autocomplete="off" maxlength="250" ng-model="create.message"></textarea> <aside ng-messages="createForm.message.$error" md-auto-hide="false"> <div class="form__feedback--error" ng-message="maxlength">Please keep it within 250 characters.</div> </aside> <div class="hint">Any special notes? Preambles?</div> <div class="hint">Feeling excited? Share it with everyone!</div> </md-input-container> </div> <!-- Set the EVENT HOST --> <div layout="row" class="form__row"> <md-input-container flex> <label class="form__text form__label">who is hosting</label> <input type="text" name="hostName" ng-model="create.host" valid-ref required class="form__event-name" autocomplete="off"> <aside ng-messages="createForm.hostName.$error" md-auto-hide="false"> <div class="form__feedback--error" ng-message="validRef">Must not contain the characters: <pre><code>. $ # [ ] /</code></pre></div> <div class="form__feedback--error" ng-message="required" ng-show="createForm.hostName.$touched && createForm.hostName.$invalid">An event host is needed.</div> </aside> <div class="hint" ng-hide="createForm.hostName.$invalid">A host has access to edit the event.</div> </md-input-container> </div> <div> <p class="form__invalid form__feedback--error" ng-show="createForm.$invalid">Please address any invalid inputs before submitting.</p> </div> <!-- Refresh or Complete Edit --> <div layout="row" layout-align="space-around center"> <md-button aria-label="Reset" class="md-icon-button reset__button launch" ng-click="create.reset()"> <md-icon class="material-icons step rotate__anim" ng-class="md-18"> autorenew </md-icon> </md-button> <md-button aria-label="Create" type="submit" class="md-icon-button forward__anim create__button launch"> <md-icon class="material-icons" ng-class="md-18"> send </md-icon> </md-button> </div> </form><!-- End form --> </div></md-content></section> </section>